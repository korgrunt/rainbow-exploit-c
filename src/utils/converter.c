

int hexStringToByteArray(const char *hexString, unsigned char *byteArray, int byteArraySize)
{
    int i, j;
    for (i = 0, j = 0; i < byteArraySize; i++, j += 2)
    {
        if (sscanf(hexString + j, "%2x", (unsigned int *)&byteArray[i]) != 1)
        {

            return 0;
        }
    }
    return 1;
}